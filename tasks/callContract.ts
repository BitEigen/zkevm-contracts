import { task } from "hardhat/config";
import { HardhatRuntimeEnvironment } from "hardhat/types";
import { PolygonValidiumEtrog } from "../typechain-types";

async function callContract(_taskArgs: {}, hre: HardhatRuntimeEnvironment) {
  const { ethers } = hre;

  console.log(`network: ${hre.network.name}`)

  const data = [["0x28e54a9436575db91cd98a503aa2c07de5f9e98c9b952d5f1331acefcdf205c0", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x44464670ae033b92885f9e4a4cc55125325759ea211b65550226f3f52eeb4dcb", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x1f14384b139df168970d2a9023a9ef604fc6766a0fbe797e269922025fef6886", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"], ["0x306dc3bb4fea13331721b40661158d93d3e0a119b4079a59437d22ab9c7911fd", "0x0000000000000000000000000000000000000000000000000000000000000000", "0", "0x0000000000000000000000000000000000000000000000000000000000000000"]];


  // const signers = await ethers.getSigners()
  // for(const signer of signers) {
  //   console.log(`singer: ${signer.address}`)
  // }
  // return;

  const batches: PolygonValidiumEtrog.ValidiumBatchDataStruct[] = []
  for (const d of data) {
    batches.push({
      transactionsHash: d[0],
      forcedGlobalExitRoot: d[1],
      forcedTimestamp: d[2],
      forcedBlockHashL1: d[3],
    });
  }
  const addr = ethers.getAddress("0x1163e2b15a2deda007190b89dd318fa9d16888ff")
  // const contractFactory = await ethers.getContractFactory("PolygonValidiumEtrog")
  // const contract = contractFactory.attach(addr);
  const contract = await ethers.getContractAt("PolygonValidiumEtrog", addr);
  const res = await contract.sequenceBatchesValidium(batches, 1718593867, 55, "0x30fca94e07f09922662f2e4d1bef2ef020eeb05f", "0x42d7748d1d5e5906ca42bd536ffabf8831b3f771d37b7a79eed39d64a1909e7017829d4a26b6b0bf0fdb2d03a2901a7598e4f57bfecd09d7b7d099b3ae35599c1b8af3d8b398d43bed74b717ae3eaf11f4c44bb80e");

  console.log("hash: ", res.hash)
}

task('callContract', 'call contract')
  .setAction(callContract)

